# 第1章 专业主义

专业主义不但象征着荣誉与骄傲，而且明确意味着责任与义务。专业主义的精髓就在于将公司利益视同个人利益，就意味着担当责任

## 1.1 清楚你要做什么

## 1.2 担当责任

## 1.3 首先，不行损害之事

### 1.3.1 不要破坏软件功能

1. 对自己的不完美负责，对自己犯下的错误负责，勇于道歉；

2. 让QA找不出任何问题，找到问题的时候应该羞愧；

3. 确信代码正常运行，建议每一行代码都要覆盖测试；

4. 难写测试，设计易于测试的代码，TDD；

5. 自动化QA

### 1.3.2 不要破坏结构

1. 基本原则：软件要易于修改

2. 随时重构，无情重构；不敢修改，怕破坏代码结构，因为没有测试，所有要测试覆盖；

## 1.4 职业道德

- 雇主没有义务给你留时间学习；

- 工作上班时完成，学习使用自己的业余时间；

### 1.4.1 了解你的领域

- 设计模式：GOF书的24种模式
- 设计原则：solid原则
- 方法：xp,scrum,精益，看板，瀑布，结构化分析，结构化设计
- 实践：测试驱动开发，面向对象设计，结构化编程，持续集成，结对编程
- 工件：uml图，dfd图，结构图，流程图等；

### 1.4.2 坚持学习

### 1.4.3 练习

Kata, 有待解决的简单编程问题，反复练习

### 1.4.4 合作

### 1.4.5 辅导

### 1.4.6 了解业务领域

### 1.4.7 与雇主/客户保持一致

### 1.4.8 谦逊


# 第2章 说“不”

不要说，”试试看“；
专业人士敢于说明真相而不屈从于权势，有勇气对他们的经理说不。

## 2.1 对抗角色

- 面对艰难决定，直面不同角色的冲突时最好的办法；
- “协商过程试试看”：经理会把“试试看”，当做了“好的，没问题”；
- “轻松谈话”：经理和程序员双方都没尝试寻找最佳的可能结果，消极对抗；我们需要积极努力的寻找最佳的可能结果，即使冲突；
- 有时候，“为什么”不是很重要，提供太多的细节，会招致更多的微观管理；

## 2.2 高风险时刻

在高风险时刻，越是关键时刻，“不”字就越具价值

## 2.3 团队精神

团队精神的人频繁和大家交流，关心队友，竭力做到尽职尽责；

### 2.3.1 试试看

不诚实；意味着你承认之前未尽全力，承认自己还有余力可施；如果你的尝试没达到预期的结果，那就表示你失败了

### 2.3.2 消极对抗

把各种谈话记录在档，这样，当灾难来临，可以证明自己在某事某刻给过建议啥的，这是一种消极对抗；直接越级交流是积极的对抗

## 2.4 说是的成本

无论是外部客户，还是内部经理如何让开发人员快速写出代码？

告诉开发人员应用很简单；
挑剔职责开发团队没达到他们的需要，借机增加各种功能；
一而再的推后项目截至时期；没干完，加班几天，延迟几天，增加功能，循环；

这样是不对的！

## 2.5 如何写出好的代码

“成为英雄”以及“解决问题”的诱惑诚然巨大，但是，如果牺牲各种专业原则以求全，并非问题的解决之道；

# 第3章 说“是”

## 3.1 承诺用语

1. 口头上说自己将会做
2. 心里认真对待做出的承诺
3. 真正付出实际行动

### 3.1.1 识别“缺乏承诺”的征兆

不在我掌控范围，不愿意承担个人责任

需要/应当： 我需要减肥

希望/但是：希望我们改天再见面

让我们：让我们（不是让我）回头再见；

### 3.1.2 真正的承诺

**真正的承诺**：
我将在…之前…： 我将在周二之前完成这个任务；
言必信，行必果

**没能做到承诺的原因**：
- 之所以没成功，是因为我寄希望于某某区做这件事：你只能承诺自己能掌控的事
- 之所以没成功，是因为我不太确信是否真的完成的了：仍能全力前进
- 之所以没成功，是因为有些时候我真的无能为力：没预料到某些事，提前预警，
- 如果不尽早告诉他人可能的问题，就错失了让他们帮助我你完成目标兑现承诺的机会；

## 3.2 学习如何说是

### 3.2.1 “试试”的另一面

可能做得到，可能做不到；应该具体的说出可以完成的部分

### 3.2.2 坚守原则

如果不写测试，快点完成任务；
1. 假设错误！不写无法完成

2. 有责任根据标准规范自身工作，代码必须经过测试

# 第4章 编码

熟练掌握某项技艺，关键是自信以及出错感知能力


## 4.1 做好准备

- 代码能工作，必须理解当前要解决的时什么问题以及该如何解决；
- 代码必须帮助客户解决提出的问题，发现问题与客户交流；
- 编码代码遵循稳健的工程原则
- 注释，精心锤炼代码，表达你的编程意图；
- 疲劳的时候千万不要写代码
- 编码可能受到各种干扰，如果感到疲劳或者心烦意乱，千万不要编码；时间分块，专门花时间解决焦虑的问题，然后编码；

## 4.2 流态区

流态区（心流？）：进入一种意识高度专注但思维视野不会收拢狭窄的状态，在这种状态下，效率极高。

但其实流态区做出来的东西不一定正确，只是为了追求速度。

结对编程有助于阻止进入流态区。

### 4.2.1 音乐

- 边听音乐边写代码，有助于集中注意力；
- 音乐也存在助力进入流态区的作用
- 在听音乐时会消耗脑力，所以应避免

### 4.2.2 中断

- 粗暴相对的回应方式是因为流态区所致；
- 结对编程是一种应对中断的好方法，回去的时候，他能够帮你恢复被打断前的思维；
- 采用TDD，失败的测试能帮你维护住编码进度的上下文；
- 中断无法避免，下次轮到你打扰别的人请求帮助，礼貌的表现出乐于助人的态度是专业

## 4.3 阻塞

- 睡眠不足，导致阻塞；
- 找一个结对编码，重新激活思维；
- 创造性输入，广泛阅读，找一些其他的事情干等

## 4.4 调试

调试时间也属于编码时间，采用测试驱动开发，将调试时间降低；

## 4.5 保持节奏

保存体力和维持稳定的节奏；保存精力和创造力

### 4.5.1 知道何时离开一会

让富有创造力的潜意识接管问题，精力分配得当；

### 4.5.2 开车回家路上

专注开车，暂时从问题中脱离，有助于大脑以不同的但更具创造力的方式搜索各种解决方案；

### 4.5.3 洗澡

回家，吃顿好的，睡觉；第二天早晨再洗一个

## 4.6 进度延迟

管理延迟的诀窍，早期检测和保持透明。

乐观估计，标准估计，悲观预估；

### 4.6.1 期望

期望： 不要轻易松口退步，不要让其他任何人对此有期望

### 4.6.2 盲目冲刺

坚决维持你的估算，唯一能加快进度的时缩减范围。不要经不起诱惑盲目冲刺

### 4.6.3 加班加点

除非三个条件都满足：
1. 个人能挤出时间 
2. 短期加班，最多2周 
3. 老板有后备预案，防止加班失败

### 4.6.4 交付失误

保证完成的定义和标准

### 4.6.5 定义”完成“

让业务分析和测试人员创建自动化的验收测试

## 4.7 帮助

小心谨慎的将系统拆分为易于理解的小单元

### 4.7.1 帮助他人

互相帮助为荣；需要独处，直接、礼貌的方式告诉别人

### 4.7.2 接受他人帮助

诚挚接受，心怀感恩，主动提出我要帮助

### 4.7.3 辅导

资深的程序员辅导年轻的时职责；辅导无法替代；年轻的主动请教也是专业职责；

除了内驱力+资深导师辅导，没有东西将一名年轻的软件开发人员更快地提升为敏捷高效的专业人士·

# 第5章 测试驱动开发TDD

## 5.1 已有定论

## 5.2 三项原则

- 在编写好失败的单元测试之前，不要写任何的产品代码
- 只要有一个单元测试失败，就不要在写测试了，无法通过编译也是有中失败；
- 产品代码恰好能够让当前失败的单元测试成功通过即可，不要多写；

*交叉反复：单元测试，产品代码；

## 5.3 TDD的优势

- 确定性： 任何时刻有任何修改，运行手头的测试即可
- 缺陷注入率：显著降低；
- 勇气： 拥有值得信赖的测试，便可完全大小对修改代码的全部恐惧，整洁的代码易于理解，易于修改，易于扩展；
- 文档：编写的单元测试就是一个示例，用代码描述系统的用法；单元测试即是文档；
- 设计： 测试代码的问题是必须隔离出待测试的代码，需要考虑什么是好的设计，驱动你做出松耦合的设计；事后编写的测试时防守，事前编写的测试时进攻，后写的测试在深度和捕获错误的灵敏度方面逊色很多；
- 专业人士的选择

## 5.4 局限



# 第6章 练习

热键和导航，测试驱动开发，持续集成之类的方法

WASA：两个人的KATA, 一个人写单元测试，一个热写程序通过，然后交换

为开源项目贡献代码，是保持不落伍和提升技能的最好办法

# 第7章 验收测试

## 7.1 需求的沟通

### 7.1.1 过早精细化

业务人员和程序员贪求不现实的精确性

- 不确定原则： 观察者效应； 每次你向业务方展示功能，他们获得后这些信息反过来影响他们对整个系统的看法；需求完成的越精细，就越容易被忽视，系统就谈不上完工；

- 预估焦虑： 1 即便有全面的准确信息，评估也存在变数； 2 因为不确定原则，不可能反复推敲实现过早的精确性；3. 需求是一定会变化的；


### 7.1.2 迟来的模糊性

- 避免过载精细化的办法是尽可能推迟精细化；
- 双方可能最后都搞错了需求，所以最后专业开发人员必须确认需求中没有任何不确定的因素；

## 7.2 验收测试

业务方与开发方QA共同完成的测试，用于确定需求已经完成

### 7.2.1 完成的定义

- 完成应为这所有的代码已经写完，所有的测试通过，QA和需求方已经认可

- 专业开发人员根据自动化的验收测试来定义需求

### 7.2.2 沟通
验收测试的目的是沟通、澄清、精确化，开发方、业务方、测试方达成共识；

### 7.2.3 自动化
- 验收测试都应当自动进行，因为考虑成本；
- 写这些测试不是额外的工作，是为了确定系统的各项指标符合需求；
- 业务方和QA协作写验收测试，程序员检查； 业务分析测试正确路径，QA测试错误路径、边界条件、异常；越晚越好；


### 7.2.4 额外工作

确保系统的指标完成；满足需求；自动化测试；


### 7.2.5 什么时候写，由谁来写

理想：业务方和QA来写，程序员来检查

### 7.2.6 开发人员的角色

### 7.2.7 测试的协商与被动推进

### 7.2.8 验收测试和单元测试
- 单元测试时程序员自己写的，是正式的设计文档；深入系统内部的，调用特点类的方法；
- 验收测试是业务方写给自己看的；系统外部，api或者ui级别；
- 单元测试和验收测试首先是文档，然后才是测试；

### 7.2.9 GUI

不要通过GUI调用API，要做到表现和逻辑分离

单一职责（SRP）原则，根据不同原因而变化的元素分开

测试button要根据id，不要根据坐标

### 7.2.10 持续集成

单元测试和验收测试每天运行好几次；
立刻中止： 当持续集成失败，所有人停下手里的工作，看看如何让测试通过

# 第8章 测试策略

每个团队都有一套好的测试策略

## 8.1 QA应该找不到任何错误

- QA也是团队的一部分，QA和开发人员不是敌对，应该紧密协作，携手保障系统的质量，QA扮演的时需求规约定义着和特性描述者；
- 需求规约定义者： 创建自动化测试； 业务人员正确路径，QA极端情况，边界状态，异常路径的测试；
- 特性描述者： QA遵循探索式的远侧，描述系统真实的运行情况，反馈给业务和开发人员；


## 8.2 自动化测试金字塔

单元测试 100% -> 组件测试 50% -> 集成测试 20% -> 系统测试 10% -> 人工探索式测试 5%

覆盖测试？

# 第9章 时间管理

## 9.1 会议

- 会议室必需的；
- 会议浪费了大量的时间；

*能站着开就别坐着开

### 9.1.1 拒绝

- 受到邀请的会议没必要全部都参加，为时间负责的只有你；确保参加的是可以给自己目前的工作带来切实且显著的成效；

- 感兴趣，但当下没必要参加的会 判断一下； 

- 已经完成某项事项，对目前的工作没现实意义的 权衡自己项目的损失与他人的收益 和其他同事/主管商量；

- 有职权的命令你参加，这时要问自己，他们的职权是否比自己的工作重要；好的领导会维护你的决定，因为他也和你一样看重你的时间

### 9.1.2 离席

如果让人厌烦，找个礼貌的办法离席。

你有责任合理分配老板给你的时间和金钱，仔细管理时间是你的责任。

### 9.1.3 确定议程和目标

务必弄清会议的议题是什么，每个议题多久时间，取得什么样的成果；

### 9.1.4 立会

1. 我昨天干了什么
2. 我今天打算干什么
3. 我遇到了什么问题

### 9.1.5 迭代计划会议

选择下一轮迭代中实现的开发任务，评估可选择任务的开发时间，确定这些任务的业务价值

### 9.1.6 迭代回顾和Demo展示

最后一天下班前45min

### 9.1.7 争论/反对

凡不能在5min内解决的争论，都不能靠辩论解决 -> 用数据说话。

有时候最好的办法是抛硬币决定，如果遇到问题了就退回来选另一条

如果争论必须解决，就应当要求争论各方在5min内向大家摆明问题然后投票


## 9.2 注意力点数

8h睡眠，早一杯浓咖啡，中午无糖可乐

刷社交媒体不是恢复点数，而是耗费。沉思反省，小睡一会，听播客或是翻杂志可以

定期训练肌肉注意力有助于提升心智注意力上限，如骑车

阅读大量科幻小说会激发创造力

## 9.3 番茄工作法

设定工作时间25分钟，在这之内的所有其他杂事，都请对方在25分钟满了之后来问（显然不是很现实，但可以试一下缩短）

25分钟到了之后，花五分钟解决杂事，再回去接着下一个25分钟。

## 9.4 要避免的行为

优先级错乱

死胡同：如果掉进坑了，别挖。及时回头。

泥潭：比死胡同还可怕。可以看到希望，但是前进的步伐越来越慢，最后还是没达成目标。

谨慎的态度和积累的经验有助于避开泥潭


# 第10章 预估

## 10.1 什么是预估

- 业务方觉得是承诺； 必须做到，关于确定性的，其他人会当真，据此拟定计划；
- 开发方觉得是猜测；偏差很大，不是个定数，是概率分布
- 莫非定理：如果可能出错，就一定会出错；

## 10.2 PERT

计划评审技术 Program Evaluation and Review Technique

三元分析法： 乐观估计 O； 标称估计：N 悲观估计：P


那么任务的期待完成时间：u = (O + 4N + P) / 6

v = (P - O) / 6


## 10.3 预估任务

德尔菲法： 一组人集合，讨论某项任务，预估完成时间，然后重复，直到意见统一。

亮手指： 伸出0-5手指，相同下一个任务，否则，讨论分歧，重复，意见统一；

预估的计量单位，会前确定，天数，或者乘以3等
规划扑克：向每位成员法不同的牌，同；

关联预估：

三元预估；

## 10.4 大数定理

把大任务拆分很多小任务，分开估计再加总，结果会比单独评估任务要准确很多；提高准确度；

# 第11章 压力

能回避压力时尽量回避，无法回避勇敢直面压力

## 11.1 避免压力

承诺： 无法兑现业务方作出的承诺，必须要有人承担责任；

保持整洁： 让系统、代码、设计尽可能整洁，规避压力；

危机中的纪律： 了解自己的信念，危机中遵守这些纪律，困难降临时不改变自己的行为；e.g., TDD，结对开发，保持代码整洁

## 11.2 应对压力‘

预见压力、转移压力、消除压力

不要惊慌失措： 放松，避免孤注一掷

沟通：团队和主管知道你深陷困境中

依靠你的纪律原则： 坚信

寻求帮助： 结对


# 第12章 协作

## 12.1 程序员与人

人际关系难以处理而且毫无规律，包裹自己，沉浸于思考中

## 12.2 程序员与雇主

深刻了解任务目标，了解你的企业雇你将如何从你的工作中获得回报

首要职责满足雇主的需求；

最糟糕表现： 两耳不闻窗外事，只顾自己埋在技术堆里


## 12.3 程序员与程序员

代码个体所有：重复代码，模块间接口杂乱混淆而非正交；

协作的代码共有权： 整个团队共同拥有全部代码：专业人士不会阻止别人修改自己的代码；

结对： 分享知识的最好途径

## 12.4 小脑

主要负责协调肌群而不是智商

专业人士会共同工作；

当工作琐碎无足轻重，个人工作是Ok的；和其他人紧密协作，才是最好的办法；

# 第13章 团队与项目

## 13.1 只是简单混合吗？

一个程序员一半为A，一半为B，并不可行

## 13.2 有凝聚力的团队

建立关系，相互协作，支持，激励对方；
发酵期： 配合默契，彼此信任； 不拆散团队；

## 13.3 团队、项目何为先

围绕项目组建团队不科学，应把项目分给有凝聚力的团队

## 13.4 如何管理

点数；衡量自己的速度
紧急情况，改变优先级；

## 13.5 项目承包人

项目承包人失去安全感和权力；因为分给凝聚力的团队，同时做多个项目，改变项目的优先级；

组建和解散团队是人为的困难，如果优先级更高，应该要快速重新分配资源，承包人的职责所在；

# 第14章 辅导、学徒期与技艺

## 14.1 失败的学位教育

学校里所学的和工作的实际所需，巨大的差异

## 14.2 辅导

手册学习，观察他人工作学习；

建立正确的价值观和反思内省；

## 14.3 学徒期

## 14.4 技艺

成为一名匠者，向匠者学习

工匠： 经验丰富，堪当重任
技艺是工匠的精神状态；
觉者觉人：自己成为表率；